{
  "project": "Am√©liorations UX et Habitudes Prioritaires",
  "description": "15 am√©liorations UX : tri logique, carrousel, changement type, nouvelles habitudes avec sources",
  "createdAt": "2026-01-12",
  "lastRelease": "1.17.0",
  "docs": [
    "docs/prd-ux-improvements.md",
    "docs/design/design-system-specification.md",
    "docs/comm/banque-messages.md"
  ],
  "phases": [
    {
      "id": "phase-1",
      "name": "Phase 1 - Types et infrastructure",
      "description": "Nouveaux types TypeScript et migration de sch√©ma",
      "status": "pending",
      "releaseType": "minor",
      "tasks": [
        {
          "id": "1.1",
          "name": "Ajouter types TimeOfDay et Difficulty",
          "description": "D√©finir les types TimeOfDay ('morning' | 'afternoon' | 'evening' | 'night'), HabitDifficulty ('easy' | 'moderate' | 'challenging') et CumulativeOperation",
          "status": "completed",
          "completedAt": "2026-01-12",
          "priority": "high",
          "dependsOn": [],
          "files": ["src/types/index.ts"],
          "tests": [],
          "acceptance": [
            "Type TimeOfDay export√©",
            "Type HabitDifficulty export√©",
            "Type CumulativeOperation avec id, value, timestamp",
            "Habit inclut timeOfDay optionnel et cumulativeOperations optionnel"
          ]
        },
        {
          "id": "1.2",
          "name": "Migrer sch√©ma de donn√©es",
          "description": "Ajouter la migration pour les nouveaux champs dans le storage (timeOfDay, cumulativeOperations)",
          "status": "completed",
          "completedAt": "2026-01-12",
          "priority": "high",
          "dependsOn": ["1.1"],
          "files": ["src/services/storage.ts"],
          "tests": ["src/services/storage.test.ts"],
          "acceptance": [
            "schemaVersion incr√©ment√©",
            "Migration ajoute les nouveaux champs optionnels",
            "Donn√©es existantes pr√©serv√©es"
          ]
        }
      ]
    },
    {
      "id": "phase-2",
      "name": "Phase 2 - Nouvelles habitudes prioritaires",
      "description": "Enrichir le catalogue avec 10 nouvelles habitudes et sources scientifiques",
      "status": "pending",
      "releaseType": "minor",
      "tasks": [
        {
          "id": "2.1",
          "name": "Ajouter cat√©gories manquantes",
          "description": "Ajouter les cat√©gories 'finance', 'hygiene', 'food', 'social', 'productivity', 'gratitude' √† HabitCategory",
          "status": "pending",
          "priority": "high",
          "dependsOn": ["1.1"],
          "files": ["src/constants/suggestedHabits.ts"],
          "tests": [],
          "acceptance": [
            "6 nouvelles cat√©gories ajout√©es",
            "HABIT_CATEGORIES mis √† jour avec emoji et tagline",
            "Types TypeScript mis √† jour"
          ]
        },
        {
          "id": "2.2",
          "name": "Ajouter 10 nouvelles habitudes",
          "description": "Boire eau, r√©duire caf√©, √©conomiser, langue, soie dentaire, restaurant, meal prep, temps qualit√©, deep work, gratitude",
          "status": "pending",
          "priority": "high",
          "dependsOn": ["2.1"],
          "files": ["src/constants/suggestedHabits.ts"],
          "tests": [],
          "acceptance": [
            "10 nouvelles SuggestedHabit ajout√©es",
            "Chaque habitude a timeOfDay et difficulty",
            "Modes tracking/saisie appropri√©s pour chaque habitude",
            "Priority et evidenceLevel d√©finis"
          ]
        },
        {
          "id": "2.3",
          "name": "Ajouter sources scientifiques",
          "description": "Ajouter le champ sources[] √† toutes les habitudes sugg√©r√©es avec les URLs pertinentes",
          "status": "pending",
          "priority": "medium",
          "dependsOn": ["2.2"],
          "files": ["src/constants/suggestedHabits.ts", "sources.md"],
          "tests": [],
          "acceptance": [
            "Champ sources: string[] ajout√© √† SuggestedHabit",
            "Habitudes existantes ont leurs sources",
            "Nouvelles habitudes ont au moins 1 source chacune"
          ]
        },
        {
          "id": "2.4",
          "name": "Ajouter timeOfDay aux habitudes existantes",
          "description": "D√©finir le moment de la journ√©e pour les 15 habitudes existantes",
          "status": "pending",
          "priority": "medium",
          "dependsOn": ["2.1"],
          "files": ["src/constants/suggestedHabits.ts"],
          "tests": [],
          "acceptance": [
            "Toutes les habitudes existantes ont un timeOfDay",
            "Se coucher = evening/night",
            "Marche quotidienne = morning/afternoon",
            "Coh√©rence avec la nature de l'habitude"
          ]
        }
      ]
    },
    {
      "id": "phase-3",
      "name": "Phase 3 - Page Aujourd'hui",
      "description": "Tri logique et regroupement visuel par moment",
      "status": "pending",
      "releaseType": "minor",
      "tasks": [
        {
          "id": "3.1",
          "name": "Cr√©er composant TimeOfDaySection",
          "description": "Composant pour afficher une section avec titre (üåÖ Matin, etc.) et liste d'habitudes",
          "status": "pending",
          "priority": "high",
          "dependsOn": ["1.1"],
          "files": ["src/components/TimeOfDaySection.tsx"],
          "tests": [],
          "acceptance": [
            "Affiche emoji + label du moment",
            "Rend les enfants (HabitCards)",
            "Style coh√©rent avec le design system"
          ]
        },
        {
          "id": "3.2",
          "name": "Regrouper habitudes par moment sur Today",
          "description": "Modifier Today.tsx pour grouper et afficher les habitudes dans des sections par moment",
          "status": "pending",
          "priority": "high",
          "dependsOn": ["3.1"],
          "files": ["src/pages/Today.tsx", "src/utils/habitDisplay.ts"],
          "tests": [],
          "acceptance": [
            "Habitudes group√©es par timeOfDay",
            "Ordre: Matin ‚Üí Apr√®s-midi ‚Üí Soir ‚Üí Nuit ‚Üí Non d√©fini",
            "Habitudes sans timeOfDay en fin de liste",
            "Sections vides non affich√©es"
          ]
        }
      ]
    },
    {
      "id": "phase-4",
      "name": "Phase 4 - Wizard de cr√©ation",
      "description": "Carrousel, scroll auto, nom visible, emojis sugg√©r√©s",
      "status": "pending",
      "releaseType": "minor",
      "tasks": [
        {
          "id": "4.1",
          "name": "Cr√©er composant HabitCarousel",
          "description": "Carrousel horizontal pour les habitudes sugg√©r√©es avec swipe et pagination",
          "status": "pending",
          "priority": "high",
          "dependsOn": [],
          "files": ["src/components/ui/HabitCarousel.tsx", "src/components/ui/HabitCarousel.css"],
          "tests": [],
          "acceptance": [
            "D√©filement horizontal tactile",
            "Points de pagination",
            "Fl√®ches nav sur desktop",
            "Responsive (1 item mobile, 2-3 desktop)"
          ]
        },
        {
          "id": "4.2",
          "name": "Int√©grer carrousel dans CreateHabit",
          "description": "Remplacer la grille de cartes par le carrousel dans l'√©tape 'choose'",
          "status": "pending",
          "priority": "high",
          "dependsOn": ["4.1"],
          "files": ["src/pages/CreateHabit.tsx"],
          "tests": [],
          "acceptance": [
            "Carrousel affich√© pour chaque cat√©gorie filtr√©e",
            "S√©lection d'une habitude fonctionne",
            "Transition fluide vers l'√©tape suivante"
          ]
        },
        {
          "id": "4.3",
          "name": "Ajouter s√©lecteur TimeOfDay",
          "description": "Cr√©er composant TimeOfDaySelector et l'int√©grer √† l'√©tape 3 (details)",
          "status": "pending",
          "priority": "medium",
          "dependsOn": ["1.1"],
          "files": ["src/components/ui/TimeOfDaySelector.tsx", "src/pages/CreateHabit.tsx"],
          "tests": [],
          "acceptance": [
            "4 boutons mutuellement exclusifs",
            "Valeur sauvegard√©e dans l'habitude",
            "Optionnel (peut √™tre non d√©fini)"
          ]
        },
        {
          "id": "4.4",
          "name": "Afficher nom habitude aux √©tapes 3-4",
          "description": "Montrer le nom de l'habitude en cours d'√©dition dans le header des √©tapes details et intentions",
          "status": "completed",
          "completedAt": "2026-01-12",
          "priority": "medium",
          "dependsOn": [],
          "files": ["src/pages/CreateHabit.tsx"],
          "tests": [],
          "acceptance": [
            "Nom visible en sous-titre aux √©tapes 3 et 4",
            "Emoji + nom affich√©",
            "Style coh√©rent avec le reste du wizard"
          ]
        },
        {
          "id": "4.5",
          "name": "Scroll au top √† chaque √©tape",
          "description": "Scroller automatiquement en haut de page quand on passe √† l'√©tape suivante",
          "status": "completed",
          "completedAt": "2026-01-12",
          "priority": "low",
          "dependsOn": [],
          "files": ["src/pages/CreateHabit.tsx"],
          "tests": [],
          "acceptance": [
            "window.scrollTo(0, 0) √† chaque changement d'√©tape",
            "Animation smooth scroll"
          ]
        },
        {
          "id": "4.6",
          "name": "Ajouter emojis sugg√©r√©s",
          "description": "Proposer des emojis pertinents selon la cat√©gorie dans le picker",
          "status": "pending",
          "priority": "medium",
          "dependsOn": [],
          "files": ["src/components/ui/EmojiPicker.tsx", "src/constants/suggestedHabits.ts"],
          "tests": [],
          "acceptance": [
            "Section 'Suggestions' en haut du picker",
            "6-8 emojis contextuels selon la cat√©gorie",
            "Clic sur suggestion ferme le picker"
          ]
        }
      ]
    },
    {
      "id": "phase-5",
      "name": "Phase 5 - Modifications d'habitudes",
      "description": "Changement de type et correction emoji picker mobile",
      "status": "completed",
      "releasedAs": "1.17.0",
      "releasedAt": "2026-01-12",
      "releaseType": "minor",
      "tasks": [
        {
          "id": "5.1",
          "name": "Permettre changement de type",
          "description": "Ajouter un s√©lecteur de direction (augmenter/maintenir/diminuer) dans l'√©cran de modification",
          "status": "completed",
          "completedAt": "2026-01-12",
          "priority": "high",
          "dependsOn": [],
          "files": ["src/pages/EditHabit.tsx", "src/pages/CreateHabit.tsx"],
          "tests": [],
          "acceptance": [
            "S√©lecteur direction accessible en mode √©dition",
            "Progression conserv√©e mais ignor√©e si maintenir",
            "Message explicatif si changement de type"
          ]
        },
        {
          "id": "5.2",
          "name": "Corriger emoji picker mobile",
          "description": "Fixer le bug d'affichage des ic√¥nes trop gros sur mobile",
          "status": "completed",
          "completedAt": "2026-01-12",
          "priority": "high",
          "dependsOn": [],
          "files": ["src/components/ui/EmojiPicker.tsx", "src/components/ui/EmojiPicker.css"],
          "tests": [],
          "acceptance": [
            "Emojis bien dimensionn√©s sur mobile",
            "Pas besoin de resize pour corriger",
            "Test sur viewport 375px"
          ]
        }
      ]
    },
    {
      "id": "phase-6",
      "name": "Phase 6 - Liste des habitudes",
      "description": "Archiv√©es collaps√©es par d√©faut",
      "status": "completed",
      "releasedAs": "1.17.0",
      "releasedAt": "2026-01-12",
      "releaseType": "patch",
      "tasks": [
        {
          "id": "6.1",
          "name": "Collapse archiv√©es par d√©faut",
          "description": "La section des habitudes archiv√©es est ferm√©e par d√©faut dans HabitList",
          "status": "completed",
          "completedAt": "2026-01-12",
          "priority": "medium",
          "dependsOn": [],
          "files": ["src/pages/HabitList.tsx"],
          "tests": [],
          "acceptance": [
            "showArchived = false par d√©faut",
            "Section reste cliquable pour expand",
            "√âtat non persist√© (reset √† chaque visite)"
          ]
        }
      ]
    },
    {
      "id": "phase-7",
      "name": "Phase 7 - Saisies cumulatives",
      "description": "Historique et annulation des saisies cumulatives",
      "status": "pending",
      "releaseType": "minor",
      "tasks": [
        {
          "id": "7.1",
          "name": "Stocker historique saisies cumulatives",
          "description": "Enregistrer chaque saisie cumulative avec timestamp pour permettre l'annulation",
          "status": "pending",
          "priority": "high",
          "dependsOn": ["1.1", "1.2"],
          "files": ["src/services/storage.ts", "src/pages/CheckIn.tsx"],
          "tests": ["src/services/storage.test.ts"],
          "acceptance": [
            "Chaque saisie ajout√©e √† cumulativeOperations",
            "Format: { id, value, timestamp }",
            "Total recalcul√© √† partir de l'historique"
          ]
        },
        {
          "id": "7.2",
          "name": "UI annulation saisie cumulative",
          "description": "Afficher l'historique des saisies et permettre d'annuler la derni√®re",
          "status": "pending",
          "priority": "high",
          "dependsOn": ["7.1"],
          "files": ["src/pages/CheckIn.tsx", "src/components/CumulativeHistory.tsx"],
          "tests": [],
          "acceptance": [
            "Liste des saisies visible (comme compteur)",
            "Bouton annuler sur la derni√®re saisie",
            "Mise √† jour du total en temps r√©el"
          ]
        }
      ]
    },
    {
      "id": "phase-8",
      "name": "Phase 8 - Sources et badges",
      "description": "Affichage des sources scientifiques et badges de difficult√©",
      "status": "pending",
      "releaseType": "minor",
      "tasks": [
        {
          "id": "8.1",
          "name": "Cr√©er composant SourcesModal",
          "description": "Modal affichant les sources scientifiques d'une habitude",
          "status": "pending",
          "priority": "medium",
          "dependsOn": ["2.3"],
          "files": ["src/components/SourcesModal.tsx"],
          "tests": [],
          "acceptance": [
            "Affiche scienceHighlight en √©vidence",
            "Liste des URLs avec ic√¥ne lien externe",
            "Bouton fermer",
            "Accessible (focus trap, escape)"
          ]
        },
        {
          "id": "8.2",
          "name": "Ajouter bouton sources sur SuggestedHabitCard",
          "description": "Bouton 'En savoir plus' qui ouvre SourcesModal",
          "status": "pending",
          "priority": "medium",
          "dependsOn": ["8.1"],
          "files": ["src/components/SuggestedHabitCard.tsx"],
          "tests": [],
          "acceptance": [
            "Bouton visible si sources.length > 0",
            "Ouvre le modal au clic",
            "Style discret (ghost ou link)"
          ]
        },
        {
          "id": "8.3",
          "name": "Ajouter badge difficult√©",
          "description": "Badge color√© indiquant la difficult√© sur les cartes d'habitudes sugg√©r√©es",
          "status": "pending",
          "priority": "low",
          "dependsOn": ["2.2"],
          "files": ["src/components/SuggestedHabitCard.tsx", "src/components/ui/DifficultyBadge.tsx"],
          "tests": [],
          "acceptance": [
            "Badge avec ic√¥ne et texte",
            "Couleurs: easy=vert, moderate=orange, challenging=violet",
            "Tooltip explicatif au survol"
          ]
        }
      ]
    },
    {
      "id": "phase-9",
      "name": "Phase 9 - Nettoyage",
      "description": "Retirer la fonctionnalit√© transition 30 jours",
      "status": "completed",
      "releasedAs": "1.17.0",
      "releasedAt": "2026-01-12",
      "releaseType": "patch",
      "tasks": [
        {
          "id": "9.1",
          "name": "Retirer TransitionSuggestion",
          "description": "Supprimer le composant et la logique de suggestion de passage en saisie d√©taill√©e apr√®s 30 jours",
          "status": "completed",
          "completedAt": "2026-01-12",
          "priority": "low",
          "dependsOn": [],
          "files": ["src/pages/Today.tsx", "src/components/TransitionSuggestion.tsx"],
          "tests": [],
          "acceptance": [
            "Composant TransitionSuggestion supprim√©",
            "Plus de suggestion de transition",
            "Code de d√©tection 30 jours retir√©"
          ]
        }
      ]
    },
    {
      "id": "phase-10",
      "name": "Phase 10 - Tests et polish",
      "description": "Tests E2E et v√©rifications finales",
      "status": "pending",
      "releaseType": "patch",
      "tasks": [
        {
          "id": "10.1",
          "name": "Tests E2E carrousel et tri",
          "description": "Tests Playwright pour le carrousel et le tri par moment",
          "status": "pending",
          "priority": "medium",
          "dependsOn": ["3.2", "4.2"],
          "files": ["e2e/habits-display.spec.ts"],
          "tests": ["e2e/habits-display.spec.ts"],
          "acceptance": [
            "Test navigation carrousel",
            "Test regroupement par moment",
            "Test sur mobile et desktop"
          ]
        },
        {
          "id": "10.2",
          "name": "Tests E2E changement type et cumul",
          "description": "Tests pour le changement de type et l'annulation cumulative",
          "status": "pending",
          "priority": "medium",
          "dependsOn": ["5.1", "7.2"],
          "files": ["e2e/habit-modification.spec.ts"],
          "tests": ["e2e/habit-modification.spec.ts"],
          "acceptance": [
            "Test changement augmenter ‚Üí maintenir",
            "Test annulation saisie cumulative",
            "V√©rification persistance donn√©es"
          ]
        }
      ]
    }
  ],
  "stats": {
    "totalTasks": 24,
    "completed": 8,
    "inProgress": 0,
    "pending": 16,
    "blocked": 0
  }
}
